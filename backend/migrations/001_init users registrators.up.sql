CREATE TABLE IF NOT EXISTS "user" (
 id BIGINT GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
 email TEXT NOT NULL UNIQUE,
 name TEXT,
 password TEXT,
 salt TEXT,
 role TEXT,
 changed_date TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP, 
 create_date TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS registrator (
 id BIGINT GENERATED BY DEFAULT AS IDENTITY  PRIMARY KEY,
 operation_date TIMESTAMPTZ NOT NULL,
 name_folder TEXT NOT NULL,
 name_file TEXT NOT NULL,
 user_id BIGINT NOT NULL REFERENCES "user"(id),
 date_schema TIMESTAMPTZ NOT NULL,
 id_catalog TEXT NOT NULL,
 id_class TEXT NOT NULL,
 name_catalog TEXT NOT NULL,
 name_class TEXT NOT NULL,
 ver_schema TEXT NOT NULL,
 only_change BOOLEAN NOT NULL,
 changed_date TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP, 
 create_date TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP
);

